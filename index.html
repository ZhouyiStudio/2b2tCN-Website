<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2b2tCN - 中国版2b2t无规则生存服务器</title>
    <!-- 引入外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind 自定义配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        minecraft: {
                            green: '#4CAF50',
                            dark: '#1a1a1a',
                            light: '#f5f5f5',
                            accent: '#FFC107'
                        }
                    },
                    fontFamily: {
                        minecraft: ['Mojangles', 'monospace', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义样式 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
            }
            .pixel-border {
                border: 3px solid #000;
                box-shadow: 4px 4px 0 #000;
            }
            .bg-pattern {
                background-image: url('BackGround.jpg');
                background-size: cover;
                background-position: center;
                background-attachment: fixed;
                background-blend-mode: overlay;
            }
        }
        
        /* 使用指定的 Mojangles 字体文件 */
        @font-face {
            font-family: 'Mojangles';
            src: url('https://lc-gluttony.s3.amazonaws.com/HglJfD4Gwnij/335dEeBlebgrLJobWgo2X5OBzs1Bs685/[%E8%8B%A6%E5%8A%9B%E6%80%95%E8%AE%BA%E5%9D%9B]Mojangles.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap; /* 字体加载时先显示备用字体，避免页面闪烁 */
        }
        
        /* 强制使用 Mojangles 字体，并设置多层降级 */
        body {
            background-color: #1a1a1a;
            font-family: 'Mojangles', 'Courier New', Courier, monospace, sans-serif;
        }
        
        /* 服务器状态指示器动画 */
        .status-online {
            animation: pulse 2s infinite;
        }
        
        .status-offline {
            animation: none;
            background-color: #ef4444 !important;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* 加载动画 */
        .loader {
            width: 16px;
            height: 16px;
            border: 2px solid #4CAF50;
            border-bottom-color: transparent;
            border-radius: 50%;
            animation: rotation 1s linear infinite;
        }
        
        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-minecraft-light">
    <!-- 导航栏 -->
    <nav class="bg-minecraft-dark sticky top-0 z-50 border-b-4 border-minecraft-green">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-cube text-3xl text-minecraft-green"></i>
                <h1 class="text-2xl font-bold text-shadow text-minecraft-green">2b2tCN</h1>
            </div>
            
            <!-- 桌面端导航 -->
            <ul class="hidden md:flex space-x-8">
                <li><a href="#home" class="hover:text-minecraft-accent transition-colors">首页</a></li>
                <li><a href="#about" class="hover:text-minecraft-accent transition-colors">服务器介绍</a></li>
                <li><a href="#status" class="hover:text-minecraft-accent transition-colors">服务器状态</a></li>
                <li><a href="#rules" class="hover:text-minecraft-accent transition-colors">服务器规则</a></li>
                <li><a href="#join" class="hover:text-minecraft-accent transition-colors">加入我们</a></li>
            </ul>
            
            <!-- 移动端菜单按钮 -->
            <button id="menuBtn" class="md:hidden text-2xl">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        
        <!-- 移动端导航菜单 -->
        <div id="mobileMenu" class="md:hidden hidden bg-minecraft-dark border-t-2 border-minecraft-green">
            <ul class="container mx-auto px-4 py-2 space-y-3">
                <li><a href="#home" class="block py-2 hover:text-minecraft-accent transition-colors">首页</a></li>
                <li><a href="#about" class="block py-2 hover:text-minecraft-accent transition-colors">服务器介绍</a></li>
                <li><a href="#status" class="block py-2 hover:text-minecraft-accent transition-colors">服务器状态</a></li>
                <li><a href="#rules" class="block py-2 hover:text-minecraft-accent transition-colors">服务器规则</a></li>
                <li><a href="#join" class="block py-2 hover:text-minecraft-accent transition-colors">加入我们</a></li>
            </ul>
        </div>
    </nav>

    <!-- 英雄区域 -->
    <section id="home" class="bg-pattern min-h-[80vh] flex items-center justify-center">
        <div class="container mx-auto px-4 py-16 text-center">
            <h2 class="text-[clamp(2.5rem,8vw,5rem)] font-bold text-shadow text-minecraft-green mb-6">
                2b2tCN
            </h2>
            <p class="text-[clamp(1rem,3vw,1.5rem)] text-shadow mb-8 max-w-3xl mx-auto">
                中国版无规则 Minecraft 生存服务器 - 自由、混乱、无政府状态
            </p>
            <a href="#join" class="bg-minecraft-green text-minecraft-dark px-8 py-3 rounded pixel-border text-xl hover:bg-minecraft-accent transition-colors">
                立即加入 <i class="fa fa-arrow-right ml-2"></i>
            </a>
        </div>
    </section>

    <!-- 服务器介绍 -->
    <section id="about" class="py-16 bg-minecraft-dark">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-minecraft-green text-shadow">服务器介绍</h2>
            
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="pixel-border bg-black/50 p-6 rounded">
                    <h3 class="text-2xl mb-4 text-minecraft-accent">关于 2b2tCN</h3>
                    <p class="mb-4">2b2tCN 是中国版的 2b2t 服务器，秉承原版 2b2t 的无规则理念，让玩家体验最纯粹的 Minecraft 生存。</p>
                    <p class="mb-4">没有规则，没有管理员干预，一切由玩家自己决定。在这里，你可以建造、掠夺、合作或对抗。</p>
                    <p>服务器自开服以来，已经有数千名玩家加入，形成了独特的游戏生态和社区文化。</p>
                </div>
                <div class="pixel-border overflow-hidden rounded">
                    <img src="https://picsum.photos/id/235/800/500" alt="2b2tCN 服务器截图" class="w-full h-auto">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                <div class="pixel-border bg-black/50 p-6 rounded text-center">
                    <i class="fa fa-users text-4xl text-minecraft-green mb-3"></i>
                    <h3 class="text-xl mb-2 text-minecraft-accent">无规则</h3>
                    <p>没有禁止PVP、没有禁止作弊（客户端）、没有任何游戏限制</p>
                </div>
                <div class="pixel-border bg-black/50 p-6 rounded text-center">
                    <i class="fa fa-server text-4xl text-minecraft-green mb-3"></i>
                    <h3 class="text-xl mb-2 text-minecraft-accent">稳定运行</h3>
                    <p>高性能服务器，7x24小时运行，数据定期备份，永不重置</p>
                </div>
                <div class="pixel-border bg-black/50 p-6 rounded text-center">
                    <i class="fa fa-globe text-4xl text-minecraft-green mb-3"></i>
                    <h3 class="text-xl mb-2 text-minecraft-accent">社区驱动</h3>
                    <p>玩家自治，形成独特的社区文化和游戏生态</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 服务器状态 -->
    <section id="status" class="py-16 bg-black/30">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-minecraft-green text-shadow">服务器状态</h2>
            
            <div class="max-w-3xl mx-auto pixel-border bg-black/50 p-8 rounded">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                    <div class="text-center mb-6 md:mb-0">
                        <h3 class="text-2xl mb-2 text-minecraft-accent">服务器状态</h3>
                        <div class="flex items-center justify-center">
                            <div id="statusIndicator" class="w-4 h-4 rounded-full bg-green-500 status-online mr-2"></div>
                            <span id="statusText" class="text-xl text-green-500">加载中...</span>
                        </div>
                    </div>
                    
                    <div class="text-center mb-6 md:mb-0">
                        <h3 class="text-2xl mb-2 text-minecraft-accent">在线人数</h3>
                        <div class="flex items-center justify-center">
                            <div id="playerCountLoader" class="loader mr-2"></div>
                            <span class="text-xl" id="playerCount">-- / --</span>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="text-2xl mb-2 text-minecraft-accent">服务器IP</h3>
                        <code class="bg-minecraft-dark px-3 py-1 rounded text-minecraft-green">2b2t.cc.cd</code>
                    </div>
                </div>
                
                <!-- 服务器负载进度条 -->
                <div class="w-full bg-black/70 rounded h-4 overflow-hidden">
                    <div class="bg-minecraft-green h-full" id="loadBar" style="width: 0%"></div>
                </div>
                <p class="text-center mt-2 text-sm text-gray-400" id="loadText">服务器负载: 加载中...</p>
                
                <div class="mt-8">
                    <h3 class="text-xl mb-4 text-minecraft-accent">最近更新</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>优化了服务器性能，减少卡顿现象</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>增加了新的出生点保护区域</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>修复了部分区块加载异常的问题</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- 服务器规则 -->
    <section id="rules" class="py-16 bg-minecraft-dark">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-minecraft-green text-shadow">服务器规则</h2>
            
            <div class="max-w-4xl mx-auto pixel-border bg-black/50 p-8 rounded">
                <div class="mb-8">
                    <h3 class="text-2xl mb-4 text-minecraft-accent">核心原则</h3>
                    <p class="mb-4">2b2tCN 遵循 "无规则" 理念，但为了服务器的基本运行，有以下最低限度的规则：</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-black/30 p-4 rounded">
                        <h4 class="text-xl mb-2 text-minecraft-accent">✅ 允许的行为</h4>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fa fa-check text-green-500 mt-1 mr-2"></i>
                                <span>PVP (玩家对战)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check text-green-500 mt-1 mr-2"></i>
                                <span>使用客户端模组 (客户端作弊)</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check text-green-500 mt-1 mr-2"></i>
                                <span>建造和破坏</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check text-green-500 mt-1 mr-2"></i>
                                <span>交易和合作</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-black/30 p-4 rounded">
                        <h4 class="text-xl mb-2 text-minecraft-accent">❌ 禁止的行为</h4>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fa fa-times text-red-500 mt-1 mr-2"></i>
                                <span>DDOS 攻击服务器</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-times text-red-500 mt-1 mr-2"></i>
                                <span>使用服务器端崩溃类作弊</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-times text-red-500 mt-1 mr-2"></i>
                                <span>利用服务器漏洞进行大规模破坏</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-times text-red-500 mt-1 mr-2"></i>
                                <span>人肉搜索和现实威胁</span>
			    <li class="flex items-start">
                                <i class="fa fa-times text-red-500 mt-1 mr-2"></i>
                                <span>在服务器中辱骂他人</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-8 bg-yellow-900/30 p-4 rounded border-l-4 border-minecraft-accent">
                    <p class="text-minecraft-accent"><i class="fa fa-exclamation-triangle mr-2"></i> 注意：违反禁止行为将导致永久封禁，且不予申诉。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 加入我们 -->
    <section id="join" class="py-16 bg-black/30">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-minecraft-green text-shadow">加入我们</h2>
            
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                <div class="pixel-border bg-black/50 p-6 rounded">
                    <h3 class="text-2xl mb-4 text-minecraft-accent">如何加入</h3>
                    <ol class="space-y-4 list-decimal list-inside">
                        <li class="mb-2">
                            <p class="mb-1">确保你的 Minecraft 版本为 <span class="text-minecraft-green">1.19.4</span></p>
                        </li>
                        <li class="mb-2">
                            <p class="mb-1">打开 Minecraft 启动器，添加服务器</p>
                            <code class="bg-minecraft-dark px-2 py-1 rounded text-sm">2b2t.cc.cd</code>
                        </li>
                        <li class="mb-2">
                            <p class="mb-1">加入我们的论坛获取最新消息</p>
                            <a href="https://2b2tcn.cc.cd/forum" class="text-minecraft-accent hover:underline">2b2tcn.cc.cd/forum</a>
                        </li>
                        
                    </ol>
                    
                    <div class="mt-6 bg-minecraft-dark p-4 rounded border border-minecraft-green">
                        <h4 class="text-xl mb-2 text-minecraft-accent">服务器信息</h4>
                        <ul class="space-y-2">
                            <li><span class="text-gray-400">IP:</span> 2b2t.cc.cd</li>
                            <li><span class="text-gray-400">端口:</span> 25565</li>
                            <li><span class="text-gray-400">版本:</span> 1.21.8</li>
                            <li><span class="text-gray-400">正版验证:</span> 否</li>
                        </ul>
                    </div>
                </div>
                
                <div class="pixel-border overflow-hidden rounded">
                    <img src="WallPaper.png" alt="加入2b2tCN" class="w-full h-full object-cover">
                </div>
            </div>
            
            <div class="text-center mt-12">
                <a href="https://forum.2b2tcn.cc.cd/forum" class="inline-block bg-minecraft-green text-minecraft-dark px-8 py-3 rounded pixel-border text-xl hover:bg-minecraft-accent transition-colors">
                    <i class="fa fa-globe mr-2"></i> 加入社区论坛
                </a>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-minecraft-dark border-t-4 border-minecraft-green py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-2 justify-center md:justify-start">
                        <i class="fa fa-cube text-2xl text-minecraft-green"></i>
                        <h2 class="text-xl font-bold text-shadow text-minecraft-green">2b2tCN</h2>
                    </div>
                    <p class="text-gray-400 mt-2 text-center md:text-left">© 2025 2b2tCN 服务器 保留所有权利</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="https://forum.2b2tcn.cc.cd" class="text-2xl text-gray-400 hover:text-minecraft-green transition-colors">
                        <i class="fa fa-users"></i>
                    </a>
                    <a href="https://qm.qq.com/cgi-bin/qm/qr?k=1055841565" class="text-2xl text-gray-400 hover:text-minecraft-green transition-colors">
                        <i class="fa fa-qq"></i>
                    </a>
                    </a>
                </div>
            </div>
            
            <div class="mt-6 text-center text-gray-500 text-sm">
                <p>Minecraft 是 Mojang Studios 的商标，本服务器与 Mojang Studios 无关</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // 移动端菜单切换
        document.getElementById('menuBtn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                // 关闭移动端菜单
                document.getElementById('mobileMenu').classList.add('hidden');
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // 导航栏滚动效果
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 50) {
                nav.classList.add('bg-black/90');
                nav.classList.add('backdrop-blur-sm');
            } else {
                nav.classList.remove('bg-black/90');
                nav.classList.remove('backdrop-blur-sm');
            }
        });

        // ========== 实时服务器状态查询核心功能 ==========
        const SERVER_IP = '2b2t.cc.cd';
        const SERVER_PORT = 25565;
        const UPDATE_INTERVAL = 30000; // 30秒更新一次

        // 获取服务器状态的函数
        async function getServerStatus() {
            try {
                // 隐藏加载动画
                document.getElementById('playerCountLoader').style.display = 'inline-block';
                
                // 使用 MCAPI 接口查询服务器状态
                // const response = await fetch(`https://api.mcsrvstat.us/2/${SERVER_IP}:${SERVER_PORT}`);

		//https://api.mcsrvstat.us/2/fm.rainplay.cn:38634
		const response = await fetch(`https://api.mcsrvstat.us/2/fm.rainplay.cn:38634`);
                const data = await response.json();

                // 更新页面显示
                updateServerStatusUI(data);
                
            } catch (error) {
                console.error('获取服务器状态失败:', error);
                // 失败时保留当前数值，只显示错误提示
                document.getElementById('statusText').textContent = '获取失败';
                document.getElementById('statusText').className = 'text-xl text-yellow-500';
            } finally {
                // 隐藏加载动画
                document.getElementById('playerCountLoader').style.display = 'none';
            }
        }

        // 更新UI显示
        function updateServerStatusUI(data) {
            const statusIndicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            const playerCount = document.getElementById('playerCount');
            const loadBar = document.getElementById('loadBar');
            const loadText = document.getElementById('loadText');

            // 检查服务器是否在线
            if (data.online) {
                // 服务器在线
                statusIndicator.className = 'w-4 h-4 rounded-full bg-green-500 status-online mr-2';
                statusText.textContent = '在线';
                statusText.className = 'text-xl text-green-500';

                // 更新玩家数量
                const playersOnline = data.players.online || 0;
                const playersMax = data.players.max || 200;
                playerCount.textContent = `${playersOnline} / ${playersMax}`;

                // 计算并更新负载进度条
                const loadPercent = (playersOnline / playersMax) * 100;
                loadBar.style.width = `${loadPercent.toFixed(1)}%`;
                loadText.textContent = `服务器负载: ${loadPercent.toFixed(1)}%`;

            } else {
                // 服务器离线
                statusIndicator.className = 'w-4 h-4 rounded-full bg-red-500 status-offline mr-2';
                statusText.textContent = '离线';
                statusText.className = 'text-xl text-red-500';
                
                playerCount.textContent = '0 / 200';
                loadBar.style.width = '0%';
                loadText.textContent = '服务器负载: 0%';
            }
        }

        // 页面加载时立即获取一次
        window.addEventListener('load', getServerStatus);

        // 设置定时器，定期更新
        setInterval(getServerStatus, UPDATE_INTERVAL);
    </script>
</body>
</html>
